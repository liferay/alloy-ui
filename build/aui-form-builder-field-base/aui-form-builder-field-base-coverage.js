if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/aui-form-builder-field-base/aui-form-builder-field-base.js']) {
   __coverage__['build/aui-form-builder-field-base/aui-form-builder-field-base.js'] = {"path":"build/aui-form-builder-field-base/aui-form-builder-field-base.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":39},"end":{"line":1,"column":58}}},"2":{"name":"(anonymous_2)","line":45,"loc":{"start":{"line":45,"column":25},"end":{"line":45,"column":36}}},"3":{"name":"(anonymous_3)","line":77,"loc":{"start":{"line":77,"column":17},"end":{"line":77,"column":28}}},"4":{"name":"(anonymous_4)","line":101,"loc":{"start":{"line":101,"column":26},"end":{"line":101,"column":37}}},"5":{"name":"(anonymous_5)","line":110,"loc":{"start":{"line":110,"column":28},"end":{"line":110,"column":39}}},"6":{"name":"(anonymous_6)","line":132,"loc":{"start":{"line":132,"column":25},"end":{"line":132,"column":36}}},"7":{"name":"(anonymous_7)","line":150,"loc":{"start":{"line":150,"column":19},"end":{"line":150,"column":49}}},"8":{"name":"(anonymous_8)","line":165,"loc":{"start":{"line":165,"column":25},"end":{"line":165,"column":45}}},"9":{"name":"(anonymous_9)","line":182,"loc":{"start":{"line":182,"column":18},"end":{"line":182,"column":29}}},"10":{"name":"(anonymous_10)","line":202,"loc":{"start":{"line":202,"column":22},"end":{"line":202,"column":33}}},"11":{"name":"(anonymous_11)","line":223,"loc":{"start":{"line":223,"column":34},"end":{"line":223,"column":45}}},"12":{"name":"(anonymous_12)","line":234,"loc":{"start":{"line":234,"column":26},"end":{"line":234,"column":42}}},"13":{"name":"(anonymous_13)","line":244,"loc":{"start":{"line":244,"column":36},"end":{"line":244,"column":47}}},"14":{"name":"(anonymous_14)","line":265,"loc":{"start":{"line":265,"column":23},"end":{"line":265,"column":42}}},"15":{"name":"(anonymous_15)","line":285,"loc":{"start":{"line":285,"column":26},"end":{"line":285,"column":37}}},"16":{"name":"(anonymous_16)","line":307,"loc":{"start":{"line":307,"column":18},"end":{"line":307,"column":29}}},"17":{"name":"(anonymous_17)","line":340,"loc":{"start":{"line":340,"column":35},"end":{"line":340,"column":46}}},"18":{"name":"(anonymous_18)","line":363,"loc":{"start":{"line":363,"column":37},"end":{"line":363,"column":48}}},"19":{"name":"(anonymous_19)","line":374,"loc":{"start":{"line":374,"column":24},"end":{"line":374,"column":47}}},"20":{"name":"(anonymous_20)","line":380,"loc":{"start":{"line":380,"column":35},"end":{"line":380,"column":64}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":414,"column":3}},"2":{"start":{"line":10,"column":0},"end":{"line":28,"column":38}},"3":{"start":{"line":45,"column":0},"end":{"line":45,"column":39}},"4":{"start":{"line":47,"column":0},"end":{"line":385,"column":2}},"5":{"start":{"line":78,"column":8},"end":{"line":79,"column":14}},"6":{"start":{"line":81,"column":8},"end":{"line":83,"column":12}},"7":{"start":{"line":85,"column":8},"end":{"line":85,"column":55}},"8":{"start":{"line":87,"column":8},"end":{"line":91,"column":9}},"9":{"start":{"line":88,"column":12},"end":{"line":90,"column":13}},"10":{"start":{"line":89,"column":16},"end":{"line":89,"column":103}},"11":{"start":{"line":93,"column":8},"end":{"line":93,"column":45}},"12":{"start":{"line":102,"column":8},"end":{"line":102,"column":61}},"13":{"start":{"line":111,"column":8},"end":{"line":113,"column":14}},"14":{"start":{"line":115,"column":8},"end":{"line":124,"column":9}},"15":{"start":{"line":116,"column":12},"end":{"line":116,"column":104}},"16":{"start":{"line":118,"column":12},"end":{"line":120,"column":13}},"17":{"start":{"line":119,"column":16},"end":{"line":119,"column":69}},"18":{"start":{"line":123,"column":12},"end":{"line":123,"column":101}},"19":{"start":{"line":133,"column":8},"end":{"line":135,"column":43}},"20":{"start":{"line":137,"column":8},"end":{"line":139,"column":9}},"21":{"start":{"line":138,"column":12},"end":{"line":138,"column":57}},"22":{"start":{"line":151,"column":8},"end":{"line":151,"column":51}},"23":{"start":{"line":153,"column":8},"end":{"line":153,"column":60}},"24":{"start":{"line":154,"column":8},"end":{"line":154,"column":55}},"25":{"start":{"line":155,"column":8},"end":{"line":155,"column":53}},"26":{"start":{"line":156,"column":8},"end":{"line":156,"column":54}},"27":{"start":{"line":166,"column":8},"end":{"line":166,"column":35}},"28":{"start":{"line":168,"column":8},"end":{"line":168,"column":38}},"29":{"start":{"line":170,"column":8},"end":{"line":170,"column":52}},"30":{"start":{"line":172,"column":8},"end":{"line":174,"column":9}},"31":{"start":{"line":173,"column":12},"end":{"line":173,"column":50}},"32":{"start":{"line":183,"column":8},"end":{"line":185,"column":43}},"33":{"start":{"line":187,"column":8},"end":{"line":189,"column":9}},"34":{"start":{"line":188,"column":12},"end":{"line":188,"column":82}},"35":{"start":{"line":191,"column":8},"end":{"line":193,"column":9}},"36":{"start":{"line":192,"column":12},"end":{"line":192,"column":98}},"37":{"start":{"line":203,"column":8},"end":{"line":205,"column":43}},"38":{"start":{"line":207,"column":8},"end":{"line":212,"column":9}},"39":{"start":{"line":208,"column":12},"end":{"line":211,"column":13}},"40":{"start":{"line":209,"column":16},"end":{"line":209,"column":69}},"41":{"start":{"line":210,"column":16},"end":{"line":210,"column":31}},"42":{"start":{"line":214,"column":8},"end":{"line":214,"column":22}},"43":{"start":{"line":224,"column":8},"end":{"line":224,"column":45}},"44":{"start":{"line":235,"column":8},"end":{"line":235,"column":59}},"45":{"start":{"line":245,"column":8},"end":{"line":251,"column":11}},"46":{"start":{"line":253,"column":8},"end":{"line":253,"column":103}},"47":{"start":{"line":266,"column":8},"end":{"line":266,"column":23}},"48":{"start":{"line":268,"column":8},"end":{"line":270,"column":12}},"49":{"start":{"line":272,"column":8},"end":{"line":272,"column":59}},"50":{"start":{"line":273,"column":8},"end":{"line":273,"column":56}},"51":{"start":{"line":275,"column":8},"end":{"line":275,"column":26}},"52":{"start":{"line":286,"column":8},"end":{"line":292,"column":9}},"53":{"start":{"line":287,"column":12},"end":{"line":287,"column":40}},"54":{"start":{"line":289,"column":12},"end":{"line":291,"column":13}},"55":{"start":{"line":290,"column":16},"end":{"line":290,"column":45}},"56":{"start":{"line":294,"column":8},"end":{"line":294,"column":38}},"57":{"start":{"line":308,"column":8},"end":{"line":329,"column":9}},"58":{"start":{"line":309,"column":12},"end":{"line":324,"column":14}},"59":{"start":{"line":326,"column":12},"end":{"line":328,"column":13}},"60":{"start":{"line":327,"column":16},"end":{"line":327,"column":37}},"61":{"start":{"line":331,"column":8},"end":{"line":331,"column":30}},"62":{"start":{"line":341,"column":8},"end":{"line":343,"column":14}},"63":{"start":{"line":345,"column":8},"end":{"line":345,"column":72}},"64":{"start":{"line":347,"column":8},"end":{"line":354,"column":9}},"65":{"start":{"line":348,"column":12},"end":{"line":353,"column":13}},"66":{"start":{"line":349,"column":16},"end":{"line":349,"column":74}},"67":{"start":{"line":350,"column":16},"end":{"line":351,"column":67}},"68":{"start":{"line":352,"column":16},"end":{"line":352,"column":91}},"69":{"start":{"line":364,"column":8},"end":{"line":364,"column":35}},"70":{"start":{"line":375,"column":8},"end":{"line":376,"column":79}},"71":{"start":{"line":378,"column":8},"end":{"line":378,"column":33}},"72":{"start":{"line":379,"column":8},"end":{"line":379,"column":59}},"73":{"start":{"line":380,"column":8},"end":{"line":383,"column":11}},"74":{"start":{"line":381,"column":12},"end":{"line":381,"column":64}},"75":{"start":{"line":382,"column":12},"end":{"line":382,"column":75}},"76":{"start":{"line":387,"column":0},"end":{"line":401,"column":2}}},"branchMap":{"1":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":12},"end":{"line":88,"column":12}},{"start":{"line":88,"column":12},"end":{"line":88,"column":12}}]},"2":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":8},"end":{"line":115,"column":8}},{"start":{"line":115,"column":8},"end":{"line":115,"column":8}}]},"3":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":8},"end":{"line":172,"column":8}},{"start":{"line":172,"column":8},"end":{"line":172,"column":8}}]},"4":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":12},"end":{"line":208,"column":12}},{"start":{"line":208,"column":12},"end":{"line":208,"column":12}}]},"5":{"line":286,"type":"if","locations":[{"start":{"line":286,"column":8},"end":{"line":286,"column":8}},{"start":{"line":286,"column":8},"end":{"line":286,"column":8}}]},"6":{"line":289,"type":"if","locations":[{"start":{"line":289,"column":12},"end":{"line":289,"column":12}},{"start":{"line":289,"column":12},"end":{"line":289,"column":12}}]},"7":{"line":308,"type":"if","locations":[{"start":{"line":308,"column":8},"end":{"line":308,"column":8}},{"start":{"line":308,"column":8},"end":{"line":308,"column":8}}]},"8":{"line":326,"type":"if","locations":[{"start":{"line":326,"column":12},"end":{"line":326,"column":12}},{"start":{"line":326,"column":12},"end":{"line":326,"column":12}}]},"9":{"line":348,"type":"if","locations":[{"start":{"line":348,"column":12},"end":{"line":348,"column":12}},{"start":{"line":348,"column":12},"end":{"line":348,"column":12}}]},"10":{"line":348,"type":"binary-expr","locations":[{"start":{"line":348,"column":16},"end":{"line":348,"column":47}},{"start":{"line":348,"column":51},"end":{"line":348,"column":89}}]}},"code":["(function () { YUI.add('aui-form-builder-field-base', function (A, NAME) {","","/**"," * The Form Builder Field Base Component"," *"," * @module aui-form-builder"," * @submodule aui-form-builder-field-base"," */","","var CSS_FIELD = A.getClassName('form', 'builder', 'field'),","    CSS_FIELD_CONTENT = A.getClassName('form', 'builder', 'field', 'content'),","    CSS_FIELD_CONTENT_FOOTER = A.getClassName('form', 'builder', 'field', 'content', 'footer'),","    CSS_FIELD_CONTENT_TOOLBAR = A.getClassName('form', 'builder', 'field', 'content', 'toolbar'),","    CSS_FIELD_FOOTER_CONTENT = A.getClassName('form', 'builder', 'field', 'footer', 'content'),","    CSS_FIELD_MOVE_BUTTON = A.getClassName('form', 'builder', 'field', 'move', 'button'),","    CSS_FIELD_MOVE_TARGET = A.getClassName('form', 'builder', 'field', 'move', 'target'),","    CSS_FIELD_MOVE_TARGET_LABEL = A.getClassName('form', 'builder', 'field', 'move', 'target', 'label'),","    CSS_FIELD_NESTED = A.getClassName('form', 'builder', 'field', 'nested'),","    CSS_FIELD_OVERLAY = A.getClassName('form', 'builder', 'field', 'overlay'),","    CSS_FIELD_SETTINGS_PANEL = A.getClassName('form', 'builder', 'field', 'settings', 'panel'),","    CSS_FIELD_SETTINGS_PANEL_ADVANCED = A.getClassName('form', 'builder', 'field', 'settings', 'panel', 'advanced'),","    CSS_FIELD_SETTINGS_PANEL_ADVANCED_CONTENT =","        A.getClassName('form', 'builder', 'field', 'settings', 'panel', 'advanced', 'content'),","    CSS_FIELD_SETTINGS_PANEL_CONTENT = A.getClassName('form', 'builder', 'field', 'settings', 'panel', 'content'),","    CSS_FIELD_SETTINGS_PANEL_TOGGLER_ADVANCED =","        A.getClassName('form', 'builder', 'field', 'settings', 'panel', 'toggler', 'advanced'),","    CSS_FIELD_TOOLBAR_CONTAINER = A.getClassName('form', 'builder', 'field', 'toolbar', 'container'),","    CSS_HIDE = A.getClassName('hide');","","/**"," * Fired when toggle the modal content."," *"," * @event contentToggle"," */","","/**"," * An augmentation class which adds some editing funcionality to form builder"," * fields."," *"," * @class A.FormBuilderFieldBase"," * @param {Object} config Object literal specifying widget configuration"," *     properties."," * @constructor"," */","A.FormBuilderFieldBase = function() {};","","A.FormBuilderFieldBase.prototype = {","    TPL_FIELD: '<div class=\"' + CSS_FIELD + ' form-field\">' +","        '<div class=\"' + CSS_FIELD_CONTENT_TOOLBAR + '\">' +","        '<div class=\"' + CSS_FIELD_CONTENT + ' form-field-content\"></div>' +","        '<div class=\"' + CSS_FIELD_MOVE_BUTTON + ' layout-builder-move-cut-button\"></div>' +","        '<div class=\"' + CSS_FIELD_TOOLBAR_CONTAINER + '\"></div></div>' +","        '<div class=\"' + CSS_FIELD_NESTED + ' form-field-nested\"></div>' +","        '<div class=\"' + CSS_FIELD_OVERLAY + '\"></div>' +","        '<div class=\"' + CSS_FIELD_CONTENT_FOOTER + '\"></div>' +","        '</div>',","    TPL_FIELD_MOVE_TARGET: '<button type=\"button\" class=\"' + CSS_FIELD_MOVE_TARGET +","        ' layout-builder-move-target layout-builder-move-col-target\">' +","        ' <label class=\"' + CSS_FIELD_MOVE_TARGET_LABEL + '\">{subquestion}</label></button>',","    TPL_FIELD_SETTINGS_PANEL: '<div class=\"' + CSS_FIELD_SETTINGS_PANEL + ' clearfix\">' +","        '<div class=\"' + CSS_FIELD_SETTINGS_PANEL_CONTENT + '\">' +","        '</div>' +","        '<div class=\"' + CSS_FIELD_SETTINGS_PANEL_ADVANCED + '\">' +","        '<a class=\"' + CSS_FIELD_SETTINGS_PANEL_TOGGLER_ADVANCED +","        '\" href=\"javascript:void(0)\">{advancedOptions}</a>' +","        '<div class=\"' + CSS_FIELD_SETTINGS_PANEL_ADVANCED_CONTENT + '\"></div>' +","        '</div>' +","        '</div>',","    TPL_FIELD_FOOTER_CONTENT: '<div class=\"' + CSS_FIELD_FOOTER_CONTENT + '\"></div>',","","    /**","     * Constructor for the `A.FormBuilderFieldBase` component. Lifecycle.","     *","     * @method initializer","     * @protected","     */","    initializer: function() {","        var advancedSettings,","            i;","","        this._fieldSettingsPanel = A.Node.create(A.Lang.sub(this.TPL_FIELD_SETTINGS_PANEL, {","            advancedOptions: this.get('strings').advancedOptions","        }));","","        advancedSettings = this._getAdvancedSettings();","","        for (i = 0; i < advancedSettings.length; i++) {","            if (advancedSettings[i].footerLabel) {","                this.after(advancedSettings[i].attrName + 'Change', this._afterAdvancedSettingsChange);","            }","        }","","        this._updateAdvancedSettingsChange();","    },","","    /**","     * Collapse Advanced Settings Content.","     *","     * @method collapseModalContent","     */","    collapseModalContent: function() {","        this._advancedSettingsToggler.set('expanded', false);","    },","","    /**","     * Renders the advanced settings on panel.","     *","     * @method renderAdvancedSettings","     */","    renderAdvancedSettings: function() {","        var advancedSettings = this._getAdvancedSettings(),","            currentNode,","            i;","","        if (advancedSettings.length) {","            currentNode = this._fieldSettingsPanel.one('.' + CSS_FIELD_SETTINGS_PANEL_ADVANCED_CONTENT);","","            for (i = 0; i < advancedSettings.length; i++) {","                this.renderSetting(advancedSettings[i], currentNode);","            }","        }","        else {","            this._fieldSettingsPanel.one('.' + CSS_FIELD_SETTINGS_PANEL_ADVANCED).addClass(CSS_HIDE);","        }","    },","","    /**","     * Renders the basic settings on panel.","     *","     * @method renderBasicSettings","     */","    renderBasicSettings: function() {","        var currentNode = this._fieldSettingsPanel.one('.' + CSS_FIELD_SETTINGS_PANEL_CONTENT),","            i,","            settings = this._getSettings();","","        for (i = 0; i < settings.length; i++) {","            this.renderSetting(settings[i], currentNode);","        }","    },","","    /**","     * Renders a single field setting to be edited.","     *","     * @method renderSetting","     * @param {Object} setting","     * @param {Node} targetNode","     * @protected","     */","    renderSetting: function(setting, targetNode) {","        var attrValue = this.get(setting.attrName);","","        setting.editor.get('node').removeClass('has-error');","        setting.editor.set('originalValue', attrValue);","        setting.editor.set('editedValue', attrValue);","        targetNode.append(setting.editor.get('node'));","    },","","    /**","     * Renders the settings panel.","     *","     * @method renderSettingsPanel","     * @param {Node} container The container where the panel should be rendered.","     */","    renderSettingsPanel: function(container) {","        this.renderBasicSettings();","","        this.renderAdvancedSettings();","","        container.setHTML(this._fieldSettingsPanel);","","        if (!this._advancedSettingsToggler) {","            this._createAdvancedSettingsToggler();","        }","    },","","    /**","     * Saves the edited settings.","     *","     * @method saveSettings","     */","    saveSettings: function() {","        var advancedSettings = this._getAdvancedSettings(),","            i,","            settings = this._getSettings();","","        for (i = 0; i < settings.length; i++) {","            this.set(settings[i].attrName, settings[i].editor.get('editedValue'));","        }","","        for (i = 0; i < advancedSettings.length; i++) {","            this.set(advancedSettings[i].attrName, advancedSettings[i].editor.get('editedValue'));","        }","    },","","    /**","     * Validates all data editors used by this field's settings.","     *","     * @method validateSettings","     * @return {Boolean}","     */","    validateSettings: function() {","        var i,","            result = true,","            settings = this._getSettings();","","        for (i = 0; i < settings.length; i++) {","            if (!settings[i].editor.isValid()) {","                settings[i].editor.get('node').addClass('has-error');","                result = false;","            }","        }","","        return result;","    },","","    /**","     * Fired after the a advanced settings change.","     *","     * @method _afterAdvancedSettingsChange","     * @protected","     */","    _afterAdvancedSettingsChange: function() {","        this._updateAdvancedSettingsChange();","    },","","    /**","     * Fired after the a Toggler of Advanced Settings change.","     *","     * @method _afterExpandedChange","     * @param {EventFacade} event","     * @protected","     */","    _afterExpandedChange: function(event) {","        this._toggleVisibilityOfModalContent(event.newVal);","    },","","    /**","     * Create a Toggler with the advanced settings.","     *","     * @method _createAdvancedSettingsToggler","     * @protected","     */","    _createAdvancedSettingsToggler: function() {","        this._advancedSettingsToggler = new A.Toggler({","            animated: true,","            content: '.' + CSS_FIELD_SETTINGS_PANEL_ADVANCED_CONTENT,","            header: '.' + CSS_FIELD_SETTINGS_PANEL_TOGGLER_ADVANCED,","            expanded: this.get('content').one('.' + CSS_FIELD_CONTENT_FOOTER).hasChildNodes(),","            toggleEvent: 'click'","        });","","        this._advancedSettingsToggler.after('expandedChange', A.bind(this._afterExpandedChange, this));","    },","","    /**","     * Creates a move target node.","     *","     * @method _createMoveTarget","     * @param {Number} position The position where the moved field will be added","     *   if this is the chosen target.","     * @return {Node}","     * @protected","     */","    _createMoveTarget: function(position) {","        var targetNode;","","        targetNode = A.Node.create(A.Lang.sub(this.TPL_FIELD_MOVE_TARGET, {","            subquestion: this.get('strings').subquestion","        }));","","        targetNode.setData('nested-field-index', position);","        targetNode.setData('nested-field-parent', this);","","        return targetNode;","    },","","    /**","     * Gets the list of advanced settings for this field.","     *","     * @method _getAdvancedSettings","     * @return {Array}","     * @protected","     */","    _getAdvancedSettings: function() {","        if (!this._advancedSettings) {","            this._advancedSettings = [];","","            if (this._fillAdvancedSettings) {","                this._fillAdvancedSettings();","            }","        }","","        return this._advancedSettings;","    },","","    /**","     * Gets the list of settings for this field. Safer then calling the property","     * directly, as this will lazy load the settings if they're not ready yet.","     * Each setting should be an object with the following keys: attrName and","     * editor.","     *","     * @method _getSettings","     * @return {Array}","     * @protected","     */","    _getSettings: function() {","        if (!this._settings) {","            this._settings = [","                {","                    attrName: 'title',","                    editor: new A.TextDataEditor({","                        label: 'Question',","                        placeholder: 'Type your question here',","                        required: true","                    })","                },","                {","                    attrName: 'help',","                    editor: new A.TextDataEditor({","                        label: 'Help text'","                    })","                }","            ];","","            if (this._fillSettings) {","                this._fillSettings();","            }","        }","","        return this._settings;","    },","","    /**","     * Updates the UI according to the values of the Advanced Settings.","     *","     * @method _updateAdvancedSettingsChange","     * @protected","     */","    _updateAdvancedSettingsChange: function() {","        var advancedSettings = this._getAdvancedSettings(),","            footerNode,","            i;","","        this.get('content').one('.' + CSS_FIELD_CONTENT_FOOTER).empty();","","        for (i = 0; i < advancedSettings.length; i++) {","            if (advancedSettings[i].footerLabel && this.get(advancedSettings[i].attrName)) {","                footerNode = A.Node.create(this.TPL_FIELD_FOOTER_CONTENT);","                footerNode.set('text', advancedSettings[i].footerLabel +","                    ': ' + this.get(advancedSettings[i].attrName));","                this.get('content').one('.' + CSS_FIELD_CONTENT_FOOTER).append(footerNode);","            }","        }","    },","","    /**","     * Toggle visibility classes on Modal Content.","     *","     * @method _toggleVisibilityOfModalContent","     * @protected","     */","    _toggleVisibilityOfModalContent: function() {","        this.fire('contentToggle');","    },","","    /**","     * Updates the UI according to the value of the `nestedFields` attribute.","     *","     * @method _uiSetNestedFields","     * @param  {Array} nestedFields","     * @protected","     */","    _uiSetNestedFields: function(nestedFields) {","        var instance = this,","            nestedFieldsNode = this.get('content').one('.' + CSS_FIELD_NESTED);","","        nestedFieldsNode.empty();","        nestedFieldsNode.append(this._createMoveTarget(0));","        A.Array.each(nestedFields, function(nestedField, index) {","            nestedFieldsNode.append(nestedField.get('content'));","            nestedFieldsNode.append(instance._createMoveTarget(index + 1));","        });","    }","};","","A.FormBuilderFieldBase.ATTRS = {","\t/**","     * Collection of strings used to label elements of the UI.","     *","     * @attribute strings","     * @type {Object}","     */","    strings: {","        value: {","            advancedOptions: 'Advanced options',","            subquestion: 'Paste as subquestion'","        },","        writeOnce: true","    }","};","","","}, '3.1.0-deprecated.68', {","    \"requires\": [","        \"aui-classnamemanager\",","        \"aui-node-base\",","        \"aui-text-data-editor\",","        \"aui-toggler\",","        \"base\",","        \"node-base\"","    ],","    \"skinnable\": true","});","","}());"]};
}
var __cov_yh8V9Mvdr1eMkQa9EdbZDg = __coverage__['build/aui-form-builder-field-base/aui-form-builder-field-base.js'];
__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['1']++;YUI.add('aui-form-builder-field-base',function(A,NAME){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['1']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['2']++;var CSS_FIELD=A.getClassName('form','builder','field'),CSS_FIELD_CONTENT=A.getClassName('form','builder','field','content'),CSS_FIELD_CONTENT_FOOTER=A.getClassName('form','builder','field','content','footer'),CSS_FIELD_CONTENT_TOOLBAR=A.getClassName('form','builder','field','content','toolbar'),CSS_FIELD_FOOTER_CONTENT=A.getClassName('form','builder','field','footer','content'),CSS_FIELD_MOVE_BUTTON=A.getClassName('form','builder','field','move','button'),CSS_FIELD_MOVE_TARGET=A.getClassName('form','builder','field','move','target'),CSS_FIELD_MOVE_TARGET_LABEL=A.getClassName('form','builder','field','move','target','label'),CSS_FIELD_NESTED=A.getClassName('form','builder','field','nested'),CSS_FIELD_OVERLAY=A.getClassName('form','builder','field','overlay'),CSS_FIELD_SETTINGS_PANEL=A.getClassName('form','builder','field','settings','panel'),CSS_FIELD_SETTINGS_PANEL_ADVANCED=A.getClassName('form','builder','field','settings','panel','advanced'),CSS_FIELD_SETTINGS_PANEL_ADVANCED_CONTENT=A.getClassName('form','builder','field','settings','panel','advanced','content'),CSS_FIELD_SETTINGS_PANEL_CONTENT=A.getClassName('form','builder','field','settings','panel','content'),CSS_FIELD_SETTINGS_PANEL_TOGGLER_ADVANCED=A.getClassName('form','builder','field','settings','panel','toggler','advanced'),CSS_FIELD_TOOLBAR_CONTAINER=A.getClassName('form','builder','field','toolbar','container'),CSS_HIDE=A.getClassName('hide');__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['3']++;A.FormBuilderFieldBase=function(){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['2']++;};__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['4']++;A.FormBuilderFieldBase.prototype={TPL_FIELD:'<div class="'+CSS_FIELD+' form-field">'+'<div class="'+CSS_FIELD_CONTENT_TOOLBAR+'">'+'<div class="'+CSS_FIELD_CONTENT+' form-field-content"></div>'+'<div class="'+CSS_FIELD_MOVE_BUTTON+' layout-builder-move-cut-button"></div>'+'<div class="'+CSS_FIELD_TOOLBAR_CONTAINER+'"></div></div>'+'<div class="'+CSS_FIELD_NESTED+' form-field-nested"></div>'+'<div class="'+CSS_FIELD_OVERLAY+'"></div>'+'<div class="'+CSS_FIELD_CONTENT_FOOTER+'"></div>'+'</div>',TPL_FIELD_MOVE_TARGET:'<button type="button" class="'+CSS_FIELD_MOVE_TARGET+' layout-builder-move-target layout-builder-move-col-target">'+' <label class="'+CSS_FIELD_MOVE_TARGET_LABEL+'">{subquestion}</label></button>',TPL_FIELD_SETTINGS_PANEL:'<div class="'+CSS_FIELD_SETTINGS_PANEL+' clearfix">'+'<div class="'+CSS_FIELD_SETTINGS_PANEL_CONTENT+'">'+'</div>'+'<div class="'+CSS_FIELD_SETTINGS_PANEL_ADVANCED+'">'+'<a class="'+CSS_FIELD_SETTINGS_PANEL_TOGGLER_ADVANCED+'" href="javascript:void(0)">{advancedOptions}</a>'+'<div class="'+CSS_FIELD_SETTINGS_PANEL_ADVANCED_CONTENT+'"></div>'+'</div>'+'</div>',TPL_FIELD_FOOTER_CONTENT:'<div class="'+CSS_FIELD_FOOTER_CONTENT+'"></div>',initializer:function(){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['3']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['5']++;var advancedSettings,i;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['6']++;this._fieldSettingsPanel=A.Node.create(A.Lang.sub(this.TPL_FIELD_SETTINGS_PANEL,{advancedOptions:this.get('strings').advancedOptions}));__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['7']++;advancedSettings=this._getAdvancedSettings();__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['8']++;for(i=0;i<advancedSettings.length;i++){__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['9']++;if(advancedSettings[i].footerLabel){__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['1'][0]++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['10']++;this.after(advancedSettings[i].attrName+'Change',this._afterAdvancedSettingsChange);}else{__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['1'][1]++;}}__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['11']++;this._updateAdvancedSettingsChange();},collapseModalContent:function(){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['4']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['12']++;this._advancedSettingsToggler.set('expanded',false);},renderAdvancedSettings:function(){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['5']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['13']++;var advancedSettings=this._getAdvancedSettings(),currentNode,i;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['14']++;if(advancedSettings.length){__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['2'][0]++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['15']++;currentNode=this._fieldSettingsPanel.one('.'+CSS_FIELD_SETTINGS_PANEL_ADVANCED_CONTENT);__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['16']++;for(i=0;i<advancedSettings.length;i++){__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['17']++;this.renderSetting(advancedSettings[i],currentNode);}}else{__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['2'][1]++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['18']++;this._fieldSettingsPanel.one('.'+CSS_FIELD_SETTINGS_PANEL_ADVANCED).addClass(CSS_HIDE);}},renderBasicSettings:function(){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['6']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['19']++;var currentNode=this._fieldSettingsPanel.one('.'+CSS_FIELD_SETTINGS_PANEL_CONTENT),i,settings=this._getSettings();__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['20']++;for(i=0;i<settings.length;i++){__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['21']++;this.renderSetting(settings[i],currentNode);}},renderSetting:function(setting,targetNode){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['7']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['22']++;var attrValue=this.get(setting.attrName);__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['23']++;setting.editor.get('node').removeClass('has-error');__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['24']++;setting.editor.set('originalValue',attrValue);__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['25']++;setting.editor.set('editedValue',attrValue);__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['26']++;targetNode.append(setting.editor.get('node'));},renderSettingsPanel:function(container){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['8']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['27']++;this.renderBasicSettings();__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['28']++;this.renderAdvancedSettings();__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['29']++;container.setHTML(this._fieldSettingsPanel);__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['30']++;if(!this._advancedSettingsToggler){__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['3'][0]++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['31']++;this._createAdvancedSettingsToggler();}else{__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['3'][1]++;}},saveSettings:function(){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['9']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['32']++;var advancedSettings=this._getAdvancedSettings(),i,settings=this._getSettings();__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['33']++;for(i=0;i<settings.length;i++){__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['34']++;this.set(settings[i].attrName,settings[i].editor.get('editedValue'));}__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['35']++;for(i=0;i<advancedSettings.length;i++){__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['36']++;this.set(advancedSettings[i].attrName,advancedSettings[i].editor.get('editedValue'));}},validateSettings:function(){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['10']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['37']++;var i,result=true,settings=this._getSettings();__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['38']++;for(i=0;i<settings.length;i++){__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['39']++;if(!settings[i].editor.isValid()){__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['4'][0]++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['40']++;settings[i].editor.get('node').addClass('has-error');__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['41']++;result=false;}else{__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['4'][1]++;}}__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['42']++;return result;},_afterAdvancedSettingsChange:function(){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['11']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['43']++;this._updateAdvancedSettingsChange();},_afterExpandedChange:function(event){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['12']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['44']++;this._toggleVisibilityOfModalContent(event.newVal);},_createAdvancedSettingsToggler:function(){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['13']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['45']++;this._advancedSettingsToggler=new A.Toggler({animated:true,content:'.'+CSS_FIELD_SETTINGS_PANEL_ADVANCED_CONTENT,header:'.'+CSS_FIELD_SETTINGS_PANEL_TOGGLER_ADVANCED,expanded:this.get('content').one('.'+CSS_FIELD_CONTENT_FOOTER).hasChildNodes(),toggleEvent:'click'});__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['46']++;this._advancedSettingsToggler.after('expandedChange',A.bind(this._afterExpandedChange,this));},_createMoveTarget:function(position){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['14']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['47']++;var targetNode;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['48']++;targetNode=A.Node.create(A.Lang.sub(this.TPL_FIELD_MOVE_TARGET,{subquestion:this.get('strings').subquestion}));__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['49']++;targetNode.setData('nested-field-index',position);__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['50']++;targetNode.setData('nested-field-parent',this);__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['51']++;return targetNode;},_getAdvancedSettings:function(){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['15']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['52']++;if(!this._advancedSettings){__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['5'][0]++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['53']++;this._advancedSettings=[];__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['54']++;if(this._fillAdvancedSettings){__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['6'][0]++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['55']++;this._fillAdvancedSettings();}else{__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['6'][1]++;}}else{__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['5'][1]++;}__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['56']++;return this._advancedSettings;},_getSettings:function(){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['16']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['57']++;if(!this._settings){__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['7'][0]++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['58']++;this._settings=[{attrName:'title',editor:new A.TextDataEditor({label:'Question',placeholder:'Type your question here',required:true})},{attrName:'help',editor:new A.TextDataEditor({label:'Help text'})}];__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['59']++;if(this._fillSettings){__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['8'][0]++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['60']++;this._fillSettings();}else{__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['8'][1]++;}}else{__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['7'][1]++;}__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['61']++;return this._settings;},_updateAdvancedSettingsChange:function(){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['17']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['62']++;var advancedSettings=this._getAdvancedSettings(),footerNode,i;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['63']++;this.get('content').one('.'+CSS_FIELD_CONTENT_FOOTER).empty();__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['64']++;for(i=0;i<advancedSettings.length;i++){__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['65']++;if((__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['10'][0]++,advancedSettings[i].footerLabel)&&(__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['10'][1]++,this.get(advancedSettings[i].attrName))){__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['9'][0]++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['66']++;footerNode=A.Node.create(this.TPL_FIELD_FOOTER_CONTENT);__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['67']++;footerNode.set('text',advancedSettings[i].footerLabel+': '+this.get(advancedSettings[i].attrName));__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['68']++;this.get('content').one('.'+CSS_FIELD_CONTENT_FOOTER).append(footerNode);}else{__cov_yh8V9Mvdr1eMkQa9EdbZDg.b['9'][1]++;}}},_toggleVisibilityOfModalContent:function(){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['18']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['69']++;this.fire('contentToggle');},_uiSetNestedFields:function(nestedFields){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['19']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['70']++;var instance=this,nestedFieldsNode=this.get('content').one('.'+CSS_FIELD_NESTED);__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['71']++;nestedFieldsNode.empty();__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['72']++;nestedFieldsNode.append(this._createMoveTarget(0));__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['73']++;A.Array.each(nestedFields,function(nestedField,index){__cov_yh8V9Mvdr1eMkQa9EdbZDg.f['20']++;__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['74']++;nestedFieldsNode.append(nestedField.get('content'));__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['75']++;nestedFieldsNode.append(instance._createMoveTarget(index+1));});}};__cov_yh8V9Mvdr1eMkQa9EdbZDg.s['76']++;A.FormBuilderFieldBase.ATTRS={strings:{value:{advancedOptions:'Advanced options',subquestion:'Paste as subquestion'},writeOnce:true}};},'3.1.0-deprecated.68',{'requires':['aui-classnamemanager','aui-node-base','aui-text-data-editor','aui-toggler','base','node-base'],'skinnable':true});
