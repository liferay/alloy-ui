AUI.add("aui-datepicker-base",function(c){var f=c.Lang,b=f.isBoolean,a=f.isFunction,l="calendar",j="contentBox",i="currentNode",d="formatter",e="selectMultipleDates",k="setValue",h="date-picker";var g=c.Component.create({NAME:h,ATTRS:{calendar:{setter:"_setCalendar",value:{}},formatter:{value:function(m){return m.formatted.join(",");},validator:a},setValue:{value:true,validator:b},stack:{lazyAdd:false,value:true,setter:"_setStack",validator:b},showOn:{value:"mousedown"},hideOn:{value:"mousedown"}},EXTENDS:c.OverlayContext,prototype:{initializer:function(){var m=this;m.calendar=new c.Calendar(m.get(l));},bindUI:function(){var m=this;g.superclass.bindUI.apply(this,arguments);m.on("show",m._onShowOverlay);m.after("calendar:select",m._afterSelectDate);if(m.get(k)){m._setTriggerValue(m.calendar._getSelectEventData().date);}},destructor:function(){var m=this;m.calendar.destroy();},_afterSelectDate:function(n){var m=this;if(!m.calendar.get(e)){m.hide();}if(m.get(k)){m._setTriggerValue(n.date);}},_onShowOverlay:function(n){var m=this;m._renderCalendar();},_renderCalendar:function(){var m=this;m.calendar.render(m.get(j));},_setCalendar:function(n){var m=this;c.mix(n,{bubbleTargets:m});return n;},_setStack:function(n){var m=this;if(n){c.DatepickerManager.register(m);}else{c.DatepickerManager.remove(m);}return n;},_setTriggerValue:function(n){var m=this;var o=m.get(d).apply(m,[n]);m.get(i).val(o);}}});c.DatePicker=g;c.DatepickerManager=new c.OverlayManager({zIndexBase:1000});},"@VERSION@",{requires:["aui-calendar","aui-overlay-context"],skinnable:true});