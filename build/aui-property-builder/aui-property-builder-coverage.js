if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/aui-property-builder/aui-property-builder.js']) {
   __coverage__['build/aui-property-builder/aui-property-builder.js'] = {"path":"build/aui-property-builder/aui-property-builder.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":32},"end":{"line":1,"column":51}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":23},"end":{"line":14,"column":37}}},"3":{"name":"(anonymous_3)","line":90,"loc":{"start":{"line":90,"column":21},"end":{"line":90,"column":32}}},"4":{"name":"(anonymous_4)","line":115,"loc":{"start":{"line":115,"column":21},"end":{"line":115,"column":32}}},"5":{"name":"(anonymous_5)","line":127,"loc":{"start":{"line":127,"column":21},"end":{"line":127,"column":32}}},"6":{"name":"(anonymous_6)","line":139,"loc":{"start":{"line":139,"column":21},"end":{"line":139,"column":32}}},"7":{"name":"(anonymous_7)","line":194,"loc":{"start":{"line":194,"column":21},"end":{"line":194,"column":32}}},"8":{"name":"(anonymous_8)","line":219,"loc":{"start":{"line":219,"column":31},"end":{"line":219,"column":46}}},"9":{"name":"(anonymous_9)","line":231,"loc":{"start":{"line":231,"column":20},"end":{"line":231,"column":31}}},"10":{"name":"(anonymous_10)","line":235,"loc":{"start":{"line":235,"column":24},"end":{"line":235,"column":40}}},"11":{"name":"(anonymous_11)","line":246,"loc":{"start":{"line":246,"column":18},"end":{"line":246,"column":29}}},"12":{"name":"(anonymous_12)","line":264,"loc":{"start":{"line":264,"column":16},"end":{"line":264,"column":27}}},"13":{"name":"(anonymous_13)","line":281,"loc":{"start":{"line":281,"column":22},"end":{"line":281,"column":33}}},"14":{"name":"(anonymous_14)","line":294,"loc":{"start":{"line":294,"column":27},"end":{"line":294,"column":41}}},"15":{"name":"(anonymous_15)","line":307,"loc":{"start":{"line":307,"column":23},"end":{"line":307,"column":34}}},"16":{"name":"(anonymous_16)","line":336,"loc":{"start":{"line":336,"column":20},"end":{"line":336,"column":31}}},"17":{"name":"(anonymous_17)","line":351,"loc":{"start":{"line":351,"column":35},"end":{"line":351,"column":46}}},"18":{"name":"(anonymous_18)","line":366,"loc":{"start":{"line":366,"column":29},"end":{"line":366,"column":43}}},"19":{"name":"(anonymous_19)","line":369,"loc":{"start":{"line":369,"column":29},"end":{"line":369,"column":45}}},"20":{"name":"(anonymous_20)","line":385,"loc":{"start":{"line":385,"column":24},"end":{"line":385,"column":38}}},"21":{"name":"(anonymous_21)","line":404,"loc":{"start":{"line":404,"column":39},"end":{"line":404,"column":53}}},"22":{"name":"(anonymous_22)","line":434,"loc":{"start":{"line":434,"column":31},"end":{"line":434,"column":45}}},"23":{"name":"(anonymous_23)","line":441,"loc":{"start":{"line":441,"column":33},"end":{"line":441,"column":49}}},"24":{"name":"(anonymous_24)","line":458,"loc":{"start":{"line":458,"column":22},"end":{"line":458,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":481,"column":3}},"2":{"start":{"line":9,"column":0},"end":{"line":28,"column":41}},"3":{"start":{"line":15,"column":8},"end":{"line":15,"column":66}},"4":{"start":{"line":40,"column":0},"end":{"line":466,"column":3}},"5":{"start":{"line":91,"column":16},"end":{"line":91,"column":59}},"6":{"start":{"line":116,"column":16},"end":{"line":116,"column":70}},"7":{"start":{"line":128,"column":16},"end":{"line":128,"column":67}},"8":{"start":{"line":140,"column":16},"end":{"line":140,"column":69}},"9":{"start":{"line":195,"column":12},"end":{"line":195,"column":32}},"10":{"start":{"line":197,"column":12},"end":{"line":197,"column":35}},"11":{"start":{"line":199,"column":12},"end":{"line":202,"column":15}},"12":{"start":{"line":204,"column":12},"end":{"line":204,"column":81}},"13":{"start":{"line":206,"column":12},"end":{"line":206,"column":53}},"14":{"start":{"line":207,"column":12},"end":{"line":207,"column":73}},"15":{"start":{"line":208,"column":12},"end":{"line":208,"column":67}},"16":{"start":{"line":209,"column":12},"end":{"line":209,"column":71}},"17":{"start":{"line":220,"column":12},"end":{"line":220,"column":32}},"18":{"start":{"line":221,"column":12},"end":{"line":221,"column":67}},"19":{"start":{"line":223,"column":12},"end":{"line":223,"column":53}},"20":{"start":{"line":232,"column":12},"end":{"line":232,"column":32}},"21":{"start":{"line":233,"column":12},"end":{"line":233,"column":48}},"22":{"start":{"line":235,"column":12},"end":{"line":237,"column":15}},"23":{"start":{"line":236,"column":16},"end":{"line":236,"column":42}},"24":{"start":{"line":247,"column":12},"end":{"line":247,"column":32}},"25":{"start":{"line":249,"column":12},"end":{"line":249,"column":36}},"26":{"start":{"line":251,"column":12},"end":{"line":251,"column":37}},"27":{"start":{"line":253,"column":12},"end":{"line":255,"column":14}},"28":{"start":{"line":265,"column":12},"end":{"line":265,"column":32}},"29":{"start":{"line":266,"column":12},"end":{"line":266,"column":56}},"30":{"start":{"line":268,"column":12},"end":{"line":268,"column":34}},"31":{"start":{"line":269,"column":12},"end":{"line":269,"column":49}},"32":{"start":{"line":271,"column":12},"end":{"line":271,"column":44}},"33":{"start":{"line":282,"column":12},"end":{"line":282,"column":32}},"34":{"start":{"line":284,"column":12},"end":{"line":284,"column":34}},"35":{"start":{"line":295,"column":12},"end":{"line":295,"column":32}},"36":{"start":{"line":297,"column":12},"end":{"line":297,"column":104}},"37":{"start":{"line":298,"column":12},"end":{"line":298,"column":101}},"38":{"start":{"line":308,"column":12},"end":{"line":308,"column":32}},"39":{"start":{"line":309,"column":12},"end":{"line":309,"column":56}},"40":{"start":{"line":310,"column":12},"end":{"line":310,"column":41}},"41":{"start":{"line":311,"column":12},"end":{"line":311,"column":61}},"42":{"start":{"line":312,"column":12},"end":{"line":312,"column":55}},"43":{"start":{"line":314,"column":12},"end":{"line":316,"column":13}},"44":{"start":{"line":315,"column":16},"end":{"line":315,"column":53}},"45":{"start":{"line":318,"column":12},"end":{"line":320,"column":13}},"46":{"start":{"line":319,"column":16},"end":{"line":319,"column":50}},"47":{"start":{"line":322,"column":12},"end":{"line":327,"column":13}},"48":{"start":{"line":323,"column":16},"end":{"line":323,"column":76}},"49":{"start":{"line":326,"column":16},"end":{"line":326,"column":57}},"50":{"start":{"line":337,"column":12},"end":{"line":337,"column":32}},"51":{"start":{"line":339,"column":12},"end":{"line":341,"column":14}},"52":{"start":{"line":352,"column":12},"end":{"line":352,"column":32}},"53":{"start":{"line":354,"column":12},"end":{"line":356,"column":14}},"54":{"start":{"line":367,"column":12},"end":{"line":367,"column":28}},"55":{"start":{"line":369,"column":12},"end":{"line":373,"column":15}},"56":{"start":{"line":370,"column":16},"end":{"line":372,"column":18}},"57":{"start":{"line":375,"column":12},"end":{"line":375,"column":26}},"58":{"start":{"line":386,"column":12},"end":{"line":386,"column":32}},"59":{"start":{"line":388,"column":12},"end":{"line":394,"column":14}},"60":{"start":{"line":405,"column":12},"end":{"line":405,"column":32}},"61":{"start":{"line":407,"column":12},"end":{"line":424,"column":14}},"62":{"start":{"line":435,"column":12},"end":{"line":435,"column":32}},"63":{"start":{"line":436,"column":12},"end":{"line":436,"column":49}},"64":{"start":{"line":438,"column":12},"end":{"line":448,"column":13}},"65":{"start":{"line":439,"column":16},"end":{"line":439,"column":74}},"66":{"start":{"line":441,"column":16},"end":{"line":443,"column":19}},"67":{"start":{"line":442,"column":20},"end":{"line":442,"column":59}},"68":{"start":{"line":445,"column":16},"end":{"line":447,"column":18}},"69":{"start":{"line":459,"column":12},"end":{"line":459,"column":32}},"70":{"start":{"line":461,"column":12},"end":{"line":463,"column":13}},"71":{"start":{"line":462,"column":16},"end":{"line":462,"column":38}},"72":{"start":{"line":468,"column":0},"end":{"line":468,"column":36}}},"branchMap":{"1":{"line":297,"type":"cond-expr","locations":[{"start":{"line":297,"column":73},"end":{"line":297,"column":96}},{"start":{"line":297,"column":99},"end":{"line":297,"column":102}}]},"2":{"line":298,"type":"cond-expr","locations":[{"start":{"line":298,"column":70},"end":{"line":298,"column":93}},{"start":{"line":298,"column":96},"end":{"line":298,"column":99}}]},"3":{"line":314,"type":"if","locations":[{"start":{"line":314,"column":12},"end":{"line":314,"column":12}},{"start":{"line":314,"column":12},"end":{"line":314,"column":12}}]},"4":{"line":318,"type":"if","locations":[{"start":{"line":318,"column":12},"end":{"line":318,"column":12}},{"start":{"line":318,"column":12},"end":{"line":318,"column":12}}]},"5":{"line":322,"type":"if","locations":[{"start":{"line":322,"column":12},"end":{"line":322,"column":12}},{"start":{"line":322,"column":12},"end":{"line":322,"column":12}}]},"6":{"line":371,"type":"cond-expr","locations":[{"start":{"line":371,"column":46},"end":{"line":371,"column":51}},{"start":{"line":371,"column":54},"end":{"line":371,"column":96}}]},"7":{"line":393,"type":"binary-expr","locations":[{"start":{"line":393,"column":16},"end":{"line":393,"column":19}},{"start":{"line":393,"column":23},"end":{"line":393,"column":25}}]},"8":{"line":423,"type":"binary-expr","locations":[{"start":{"line":423,"column":16},"end":{"line":423,"column":19}},{"start":{"line":423,"column":23},"end":{"line":423,"column":25}}]},"9":{"line":438,"type":"if","locations":[{"start":{"line":438,"column":12},"end":{"line":438,"column":12}},{"start":{"line":438,"column":12},"end":{"line":438,"column":12}}]},"10":{"line":461,"type":"if","locations":[{"start":{"line":461,"column":12},"end":{"line":461,"column":12}},{"start":{"line":461,"column":12},"end":{"line":461,"column":12}}]}},"code":["(function () { YUI.add('aui-property-builder', function (A, NAME) {","","/**"," * The Property Builder"," *"," * @module aui-property-builder"," */","","var Lang = A.Lang,","    isArray = Lang.isArray,","    isNumber = Lang.isNumber,","    isObject = Lang.isObject,","","    isAvailableField = function(val) {","        return A.instanceOf(val, A.PropertyBuilderAvailableField);","    },","","    AArray = A.Array,","","    aGetClassName = A.getClassName,","","    CSS_CLEARFIX = aGetClassName('clearfix'),","    CSS_PROPERTY_BUILDER_CANVAS = aGetClassName('property', 'builder', 'canvas'),","    CSS_PROPERTY_BUILDER_CONTENT_CONTAINER = aGetClassName('property', 'builder', 'content', 'container'),","    CSS_PROPERTY_BUILDER_DROP_CONTAINER = aGetClassName('property', 'builder', 'drop', 'container'),","    CSS_PROPERTY_BUILDER_FIELD_DRAGGABLE = A.getClassName('property', 'builder', 'field', 'draggable'),","    CSS_PROPERTY_BUILDER_FIELDS_CONTAINER = aGetClassName('property', 'builder', 'fields', 'container'),","    CSS_LAYOUT = aGetClassName('layout');","","/**"," * A base class for PropertyBuilder."," *"," * @class A.PropertyBuilder"," * @extends A.Component"," * @uses A.PropertyBuilderFieldSupport"," * @param {Object} config Object literal specifying widget configuration"," *     properties."," * @constructor"," */","var PropertyBuilder = A.Component.create({","    /**","     * Static property provides a string to identify the class.","     *","     * @property NAME","     * @type String","     * @static","     */","    NAME: 'property-builder',","","    /**","     * Static property used to define the default attribute","     * configuration for the `A.PropertyBuilder`.","     *","     * @property ATTRS","     * @type Object","     * @static","     */","    ATTRS: {","","        /**","         * List of available fields.","         *","         * @attribute availableFields","         * @type Array","         */","        availableFields: {","            setter: '_setAvailableFields',","            validator: isArray","        },","","        /**","         * The configuration object for draggable available fields.","         *","         * @attribute availableFieldsDragConfig","         * @default null","         * @type Object","         */","        availableFieldsDragConfig: {","            value: null,","            setter: '_setAvailableFieldsDragConfig',","            validator: isObject","        },","","        /**","         * A node created using the `CANVAS_TEMPLATE` template.","         *","         * @attribute canvas","         */","        canvas: {","            valueFn: function() {","                return A.Node.create(this.CANVAS_TEMPLATE);","            }","        },","","        /**","         * The configuration object for drop container node.","         *","         * @attribute dropConfig","         * @default null","         * @type Object","         */","        dropConfig: {","            value: null,","            setter: '_setDropConfig',","            validator: isObject","        },","","        /**","         * Host node for content created using the `CONTENT_CONTAINER_TEMPLATE`","         * template.","         *","         * @attribute contentContainer","         */","        contentContainer: {","            valueFn: function() {","                return A.Node.create(this.CONTENT_CONTAINER_TEMPLATE);","            }","        },","","        /**","         * Host node for drop created using the `DROP_CONTAINER_TEMPLATE`","         * template.","         *","         * @attribute dropContainer","         */","        dropContainer: {","            valueFn: function() {","                return A.Node.create(this.DROP_CONTAINER_TEMPLATE);","            }","        },","","        /**","         * Host node for fields created using the `FIELDS_CONTAINER_TEMPLATE`","         * template.","         *","         * @attribute fieldsContainer","         */","        fieldsContainer: {","            valueFn: function() {","                return A.Node.create(this.FIELDS_CONTAINER_TEMPLATE);","            }","        }","    },","","    /**","     * Object hash, defining how attribute values have to be parsed from markup.","     *","     * @property HTML_PARSER","     * @type Object","     * @static","     */","    HTML_PARSER: {","        contentContainer: '.' + CSS_PROPERTY_BUILDER_CONTENT_CONTAINER,","        dropContainer: '.' + CSS_PROPERTY_BUILDER_DROP_CONTAINER,","        fieldsContainer: '.' + CSS_PROPERTY_BUILDER_FIELDS_CONTAINER,","        canvas: '.' + CSS_PROPERTY_BUILDER_CANVAS","    },","","    /**","     * Static property used to define the UI attributes.","     *","     * @property UI_ATTRS","     * @type Array","     * @static","     */","    UI_ATTRS: ['availableFields', 'fields'],","","    /**","     * Static property used to define the augmented classes.","     *","     * @property AUGMENTS","     * @type Array","     * @static","     */","    AUGMENTS: [A.PropertyBuilderFieldSupport, A.PropertyBuilderSettings],","","    prototype: {","        CANVAS_TEMPLATE: '<div tabindex=\"1\" class=\"' + CSS_PROPERTY_BUILDER_CANVAS + '\"></div>',","        CONTENT_CONTAINER_TEMPLATE: '<div class=\"' + CSS_PROPERTY_BUILDER_CONTENT_CONTAINER + '\"></div>',","        DROP_CONTAINER_TEMPLATE: '<div class=\"' + CSS_PROPERTY_BUILDER_DROP_CONTAINER + '\"></div>',","        FIELDS_CONTAINER_TEMPLATE: '<ul class=\"' + [CSS_PROPERTY_BUILDER_FIELDS_CONTAINER, CSS_CLEARFIX].join(' ') +","            '\"></ul>',","","        fieldsNode: null,","        settingsNode: null,","","        /**","         * Construction logic executed during `A.PropertyBuilder`","         * instantiation. Lifecycle.","         *","         * @method initializer","         * @protected","         */","        initializer: function() {","            var instance = this;","","            this.publish('render');","","            instance.after({","                render: instance._afterRender,","                'model:change': instance._afterModelChange","            });","","            instance.after(instance._afterUiSetHeight, instance, '_uiSetHeight');","","            instance.canvas = instance.get('canvas');","            instance.contentContainer = instance.get('contentContainer');","            instance.dropContainer = instance.get('dropContainer');","            instance.fieldsContainer = instance.get('fieldsContainer');","        },","","        /**","         * Checks if the `availableFields` are draggable.","         *","         * @method isAvailableFieldsDrag","         * @param drag","         * @return {Boolean}","         */","        isAvailableFieldsDrag: function(drag) {","            var instance = this;","            var availableFieldsDrag = instance.availableFieldsDrag;","","            return (drag === availableFieldsDrag.dd);","        },","","        /**","         * Plots a collection of fields.","         *","         * @method plotFields","         */","        plotFields: function() {","            var instance = this;","            var fields = instance.get('fields');","","            fields.each(function(field) {","                instance.plotField(field);","            });","        },","","        /**","         * Render the `A.PropertyBuilder` component instance. Lifecycle.","         *","         * @method renderUI","         * @protected","         */","        renderUI: function() {","            var instance = this;","","            instance.fire('render');","","            instance._renderCanvas();","","            instance._uiSetAvailableFields(","                instance.get('availableFields')","            );","        },","","        /**","         * Sync the `A.PropertyBuilder` UI. Lifecycle.","         *","         * @method syncUI","         * @protected","         */","        syncUI: function() {","            var instance = this;","            var contentBox = instance.get('contentBox');","","            instance._setupDrop();","            instance._setupAvailableFieldsDrag();","","            contentBox.addClass(CSS_LAYOUT);","        },","","        /**","         * Fires after `A.PropertyBuilder` instance is rendered.","         *","         * @method _afterRender","         * @param event","         * @protected","         */","        _afterRender: function() {","            var instance = this;","","            instance.plotFields();","        },","","        /**","         * Fires after setting height in the UI.","         *","         * @method _afterUiSetHeight","         * @param val","         * @protected","         */","        _afterUiSetHeight: function(val) {","            var instance = this;","","            instance.contentContainer.setStyle('height', isNumber(val) ? val + instance.DEF_UNIT : val);","            instance.dropContainer.setStyle('height', isNumber(val) ? val + instance.DEF_UNIT : val);","        },","","        /**","         * Renders the `canvas` attribute.","         *","         * @method _renderCanvas","         * @protected","         */","        _renderCanvas: function() {","            var instance = this;","            var contentBox = instance.get('contentBox');","            var canvas = instance.canvas;","            var contentContainer = instance.contentContainer;","            var dropContainer = instance.dropContainer;","","            if (!canvas.inDoc()) {","                contentContainer.appendChild(canvas);","            }","","            if (!dropContainer.inDoc()) {","                canvas.appendChild(dropContainer);","            }","","            if (contentContainer.inDoc()) {","                contentContainer.get('parentNode').append(contentContainer);","            }","            else {","                contentBox.appendChild(contentContainer);","            }","        },","","        /**","         * Creates a new instance of `A.DD.Drop` in `drop` attribute.","         *","         * @method _setupDrop","         * @protected","         */","        _setupDrop: function() {","            var instance = this;","","            instance.drop = new A.DD.Drop(","                instance.get('dropConfig')","            );","        },","","        /**","         * Creates a new instance of `A.DD.Delegate` in `availableFieldsDrag`","         * attribute.","         *","         * @method _setupAvailableFieldsDrag","         * @protected","         */","        _setupAvailableFieldsDrag: function() {","            var instance = this;","","            instance.availableFieldsDrag = new A.DD.Delegate(","                instance.get('availableFieldsDragConfig')","            );","        },","","        /**","         * Sets the `availableFields` attribute.","         *","         * @method _setAvailableFields","         * @param val","         * @protected","         */","        _setAvailableFields: function(val) {","            var fields = [];","","            AArray.each(val, function(field) {","                fields.push(","                    isAvailableField(field) ? field : new A.PropertyBuilderAvailableField(field)","                );","            });","","            return fields;","        },","","        /**","         * Set the `dropConfig` attribute.","         *","         * @method _setDropConfig","         * @param val","         * @protected","         */","        _setDropConfig: function(val) {","            var instance = this;","","            return A.merge({","                    bubbleTargets: instance,","                    groups: ['availableFields'],","                    node: instance.dropContainer","                },","                val || {}","            );","        },","","        /**","         * Set the `availableFieldsDragConfig` attribute.","         *","         * @method _setAvailableFieldsDragConfig","         * @param val","         * @protected","         */","        _setAvailableFieldsDragConfig: function(val) {","            var instance = this;","","            return A.merge({","                    bubbleTargets: instance,","                    container: instance.get('boundingBox'),","                    dragConfig: {","                        groups: ['availableFields'],","                        plugins: [","                            {","                                cfg: {","                                    moveOnEnd: false","                                },","                                fn: A.Plugin.DDProxy","                            }","                        ]","                    },","                    nodes: '.' + CSS_PROPERTY_BUILDER_FIELD_DRAGGABLE","                },","                val || {}","            );","        },","","        /**","         * Sets the `availableFields` attribute in the UI.","         *","         * @method _uiSetAvailableFields","         * @param val","         * @protected","         */","        _uiSetAvailableFields: function(val) {","            var instance = this;","            var fieldsNode = instance.fieldsNode;","","            if (fieldsNode) {","                var docFrag = A.getDoc().invoke('createDocumentFragment');","","                AArray.each(val, function(field) {","                    docFrag.appendChild(field.get('node'));","                });","","                fieldsNode.setContent(","                    instance.fieldsContainer.setContent(docFrag)","                );","            }","        },","","        /**","         * Sets the `fields` attribute in the UI.","         *","         * @method _uiSetFields","         * @param event","         * @protected","         */","        _uiSetFields: function() {","            var instance = this;","","            if (instance.get('rendered')) {","                instance.plotFields();","            }","        }","    }","});","","A.PropertyBuilder = PropertyBuilder;","","","}, '3.0.1', {","    \"requires\": [","        \"dd\",","        \"collection\",","        \"aui-property-builder-available-field\",","        \"aui-property-builder-field-support\",","        \"aui-property-builder-settings\",","        \"aui-tabview\"","    ],","    \"skinnable\": true","});","","}());"]};
}
var __cov_rDFkdFpE4AMQJ4Ry$vmH2w = __coverage__['build/aui-property-builder/aui-property-builder.js'];
__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['1']++;YUI.add('aui-property-builder',function(A,NAME){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['1']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['2']++;var Lang=A.Lang,isArray=Lang.isArray,isNumber=Lang.isNumber,isObject=Lang.isObject,isAvailableField=function(val){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['2']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['3']++;return A.instanceOf(val,A.PropertyBuilderAvailableField);},AArray=A.Array,aGetClassName=A.getClassName,CSS_CLEARFIX=aGetClassName('clearfix'),CSS_PROPERTY_BUILDER_CANVAS=aGetClassName('property','builder','canvas'),CSS_PROPERTY_BUILDER_CONTENT_CONTAINER=aGetClassName('property','builder','content','container'),CSS_PROPERTY_BUILDER_DROP_CONTAINER=aGetClassName('property','builder','drop','container'),CSS_PROPERTY_BUILDER_FIELD_DRAGGABLE=A.getClassName('property','builder','field','draggable'),CSS_PROPERTY_BUILDER_FIELDS_CONTAINER=aGetClassName('property','builder','fields','container'),CSS_LAYOUT=aGetClassName('layout');__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['4']++;var PropertyBuilder=A.Component.create({NAME:'property-builder',ATTRS:{availableFields:{setter:'_setAvailableFields',validator:isArray},availableFieldsDragConfig:{value:null,setter:'_setAvailableFieldsDragConfig',validator:isObject},canvas:{valueFn:function(){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['3']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['5']++;return A.Node.create(this.CANVAS_TEMPLATE);}},dropConfig:{value:null,setter:'_setDropConfig',validator:isObject},contentContainer:{valueFn:function(){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['4']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['6']++;return A.Node.create(this.CONTENT_CONTAINER_TEMPLATE);}},dropContainer:{valueFn:function(){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['5']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['7']++;return A.Node.create(this.DROP_CONTAINER_TEMPLATE);}},fieldsContainer:{valueFn:function(){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['6']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['8']++;return A.Node.create(this.FIELDS_CONTAINER_TEMPLATE);}}},HTML_PARSER:{contentContainer:'.'+CSS_PROPERTY_BUILDER_CONTENT_CONTAINER,dropContainer:'.'+CSS_PROPERTY_BUILDER_DROP_CONTAINER,fieldsContainer:'.'+CSS_PROPERTY_BUILDER_FIELDS_CONTAINER,canvas:'.'+CSS_PROPERTY_BUILDER_CANVAS},UI_ATTRS:['availableFields','fields'],AUGMENTS:[A.PropertyBuilderFieldSupport,A.PropertyBuilderSettings],prototype:{CANVAS_TEMPLATE:'<div tabindex="1" class="'+CSS_PROPERTY_BUILDER_CANVAS+'"></div>',CONTENT_CONTAINER_TEMPLATE:'<div class="'+CSS_PROPERTY_BUILDER_CONTENT_CONTAINER+'"></div>',DROP_CONTAINER_TEMPLATE:'<div class="'+CSS_PROPERTY_BUILDER_DROP_CONTAINER+'"></div>',FIELDS_CONTAINER_TEMPLATE:'<ul class="'+[CSS_PROPERTY_BUILDER_FIELDS_CONTAINER,CSS_CLEARFIX].join(' ')+'"></ul>',fieldsNode:null,settingsNode:null,initializer:function(){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['7']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['9']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['10']++;this.publish('render');__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['11']++;instance.after({render:instance._afterRender,'model:change':instance._afterModelChange});__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['12']++;instance.after(instance._afterUiSetHeight,instance,'_uiSetHeight');__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['13']++;instance.canvas=instance.get('canvas');__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['14']++;instance.contentContainer=instance.get('contentContainer');__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['15']++;instance.dropContainer=instance.get('dropContainer');__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['16']++;instance.fieldsContainer=instance.get('fieldsContainer');},isAvailableFieldsDrag:function(drag){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['8']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['17']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['18']++;var availableFieldsDrag=instance.availableFieldsDrag;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['19']++;return drag===availableFieldsDrag.dd;},plotFields:function(){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['9']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['20']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['21']++;var fields=instance.get('fields');__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['22']++;fields.each(function(field){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['10']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['23']++;instance.plotField(field);});},renderUI:function(){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['11']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['24']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['25']++;instance.fire('render');__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['26']++;instance._renderCanvas();__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['27']++;instance._uiSetAvailableFields(instance.get('availableFields'));},syncUI:function(){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['12']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['28']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['29']++;var contentBox=instance.get('contentBox');__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['30']++;instance._setupDrop();__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['31']++;instance._setupAvailableFieldsDrag();__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['32']++;contentBox.addClass(CSS_LAYOUT);},_afterRender:function(){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['13']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['33']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['34']++;instance.plotFields();},_afterUiSetHeight:function(val){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['14']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['35']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['36']++;instance.contentContainer.setStyle('height',isNumber(val)?(__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['1'][0]++,val+instance.DEF_UNIT):(__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['1'][1]++,val));__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['37']++;instance.dropContainer.setStyle('height',isNumber(val)?(__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['2'][0]++,val+instance.DEF_UNIT):(__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['2'][1]++,val));},_renderCanvas:function(){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['15']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['38']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['39']++;var contentBox=instance.get('contentBox');__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['40']++;var canvas=instance.canvas;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['41']++;var contentContainer=instance.contentContainer;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['42']++;var dropContainer=instance.dropContainer;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['43']++;if(!canvas.inDoc()){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['3'][0]++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['44']++;contentContainer.appendChild(canvas);}else{__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['3'][1]++;}__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['45']++;if(!dropContainer.inDoc()){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['4'][0]++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['46']++;canvas.appendChild(dropContainer);}else{__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['4'][1]++;}__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['47']++;if(contentContainer.inDoc()){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['5'][0]++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['48']++;contentContainer.get('parentNode').append(contentContainer);}else{__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['5'][1]++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['49']++;contentBox.appendChild(contentContainer);}},_setupDrop:function(){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['16']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['50']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['51']++;instance.drop=new A.DD.Drop(instance.get('dropConfig'));},_setupAvailableFieldsDrag:function(){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['17']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['52']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['53']++;instance.availableFieldsDrag=new A.DD.Delegate(instance.get('availableFieldsDragConfig'));},_setAvailableFields:function(val){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['18']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['54']++;var fields=[];__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['55']++;AArray.each(val,function(field){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['19']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['56']++;fields.push(isAvailableField(field)?(__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['6'][0]++,field):(__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['6'][1]++,new A.PropertyBuilderAvailableField(field)));});__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['57']++;return fields;},_setDropConfig:function(val){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['20']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['58']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['59']++;return A.merge({bubbleTargets:instance,groups:['availableFields'],node:instance.dropContainer},(__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['7'][0]++,val)||(__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['7'][1]++,{}));},_setAvailableFieldsDragConfig:function(val){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['21']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['60']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['61']++;return A.merge({bubbleTargets:instance,container:instance.get('boundingBox'),dragConfig:{groups:['availableFields'],plugins:[{cfg:{moveOnEnd:false},fn:A.Plugin.DDProxy}]},nodes:'.'+CSS_PROPERTY_BUILDER_FIELD_DRAGGABLE},(__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['8'][0]++,val)||(__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['8'][1]++,{}));},_uiSetAvailableFields:function(val){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['22']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['62']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['63']++;var fieldsNode=instance.fieldsNode;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['64']++;if(fieldsNode){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['9'][0]++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['65']++;var docFrag=A.getDoc().invoke('createDocumentFragment');__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['66']++;AArray.each(val,function(field){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['23']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['67']++;docFrag.appendChild(field.get('node'));});__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['68']++;fieldsNode.setContent(instance.fieldsContainer.setContent(docFrag));}else{__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['9'][1]++;}},_uiSetFields:function(){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.f['24']++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['69']++;var instance=this;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['70']++;if(instance.get('rendered')){__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['10'][0]++;__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['71']++;instance.plotFields();}else{__cov_rDFkdFpE4AMQJ4Ry$vmH2w.b['10'][1]++;}}}});__cov_rDFkdFpE4AMQJ4Ry$vmH2w.s['72']++;A.PropertyBuilder=PropertyBuilder;},'3.0.1',{'requires':['dd','collection','aui-property-builder-available-field','aui-property-builder-field-support','aui-property-builder-settings','aui-tabview'],'skinnable':true});
