AUI.add("aui-base-lang",function(v){var j=v.Lang,H=v.Array,q=j.isNumber,e=j.isUndefined,r=v.namespace("Lang.String"),u="",d=v.config.doc,z="innerHTML",F=/-([a-z])/gi,o=/([.*+?^$(){}|[\]\/\\])/g,c=/\r?\n/g,K=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,x=/<\/?[^>]+>/gi,k=/([a-zA-Z][a-zA-Z])([A-Z])([a-z])/g,C=/([a-zA-Z][a-zA-Z])([A-Z])([a-z])/g,b="&",p="<",g="...",D="end",n="#",h="middle",m="start",E="0",J="g",w="s",f=["return value ",null,";"],G=[],y=v.cached(function(i){f[1]=i;return new Function("value",f.join(u));}),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#034;","'":"&#039;","/":"&#047;","`":"&#096;"},a={};for(var B in l){if(l.hasOwnProperty(B)){var s=l[B];a[s]=B;G.push(B);}}var t=new RegExp("["+G.join(u)+"]","g"),I=/&([^;]+);/g;v.mix(r,{camelize:v.cached(function(L,A){var i=F;L=String(L);if(A){i=new RegExp(A+"([a-z])","gi");}return L.replace(i,r._camelize);}),capitalize:v.cached(function(i){if(i){i=String(i);i=i.charAt(0).toUpperCase()+i.substr(1).toLowerCase();}return i;}),contains:function(A,i){return A.indexOf(i)!=-1;},defaultValue:function(A,i){if(e(A)||A==u){if(e(i)){i=u;}A=i;}return A;},endsWith:function(L,A){var i=(L.length-A.length);return((i>=0)&&(L.indexOf(A,i)==i));},escapeHTML:function(i){return i.replace(t,r._escapeHTML);},escapeRegEx:function(i){return i.replace(o,"\\$1");},math:function(A,i){return y(i)(A);},nl2br:function(A){var i=this;return String(A).replace(c,"<br />");},padNumber:function(L,M,i){var N=i?Number(L).toFixed(i):String(L);var A=N.indexOf(".");if(A==-1){A=N.length;}return r.repeat(E,Math.max(0,M-A))+N;},pluralize:function(A,i,M){var L;if(A==1){L=i;}else{L=M||i+w;}return A+" "+L;},prefix:function(i,A){A=String(A);if(A.indexOf(i)!==0){A=i+A;}return A;},remove:function(M,i,L){var A=new RegExp(r.escapeRegEx(i),L?J:u);return M.replace(A,u);},removeAll:function(A,i){return r.remove(A,i,true);},repeat:function(i,A){return new Array(A+1).join(i);},round:function(A,i){A=Number(A);if(q(i)){i=Math.pow(10,i);A=Math.round(A*i)/i;}return A;},startsWith:function(A,i){return(A.lastIndexOf(i,0)==0);},stripScripts:function(i){if(i){i=String(i).replace(K,u);}return i;},stripTags:function(A){var i=this;if(A){A=String(A).replace(x,u);}return A;},substr:function(A,L,i){return String(A).substr(L,i);},uncamelize:v.cached(function(A,i){i=i||" ";A=String(A);A=A.replace(k,"$1"+i+"$2$3");A=A.replace(C,"$1"+i+"$2");return A;}),toLowerCase:function(i){return String(i).toLowerCase();},toUpperCase:function(i){return String(i).toUpperCase();},trim:j.trim,truncate:function(N,M,i){N=String(N);var L=N.length;if(N&&L>M){i=i||D;if(i==D){N=N.substr(0,M-g.length)+g;}else{if(i==h){var A=Math.floor(M/2);N=N.substr(0,A)+g+N.substr(L-A);}else{if(i==m){N=g+N.substr(L-M);}}}}return N;},undef:function(i){if(e(i)){i=u;}return i;},unescapeEntities:function(i){if(r.contains(i,b)){if(d&&!r.contains(i,p)){i=r._unescapeEntitiesUsingDom(i);}else{i=r.unescapeHTML(i);}}return i;},unescapeHTML:function(i){return i.replace(I,r._unescapeHTML);},_camelize:function(i,A){return A.toUpperCase();},_escapeHTML:function(i){return l[i];},_unescapeHTML:function(A){var L=a[A];if(!L&&entity.charAt(0)==n){var i=Number(E+entity.substr(1));if(!isNaN(i)){L=String.fromCharCode(i);}}return L;},_unescapeEntitiesUsingDom:function(A){var i=r._unescapeNode;i[z]=A;if(i[NORMALIZE]){i[NORMALIZE]();}A=i.firstChild.nodeValue;i[z]=u;return A;},_unescapeNode:d.createElement("a")});v.mix(H,{stableSort:function(N,M){var L,A=N.length;for(L=0;L<A;L++){N[L]={index:L,value:N[L]};}N.sort(function(P,O){var i=M.call(N,P.value,O.value);return(i===0)?(P.index-O.index):i;});for(var L=0;L<A;L++){N[L]=N[L].value;}}});v.mix(j,{emptyFn:function(){},emptyFnFalse:function(){return false;},emptyFnTrue:function(){return true;},isGuid:function(A){var i=this;return String(A).indexOf(v.Env._guidp)===0;}});},"@VERSION@",{skinnable:false});