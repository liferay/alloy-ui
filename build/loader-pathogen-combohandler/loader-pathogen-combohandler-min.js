YUI.add("loader-pathogen-combohandler",function(o,e){var t,r,n="+",s=/-(min|debug).js/,i=/\.(?:js|css)$/,h=/^(?:yui:)?gallery-([^\/]+)/,u={js:!0,css:!0};o.mix(o.Loader.prototype,{_pathogenEncodeComboSources:function(e){var t,n,s,i,h,g,a=this.combine;if(!a)for(h in this.groups)if(this.groups.hasOwnProperty(h)&&!a&&h.combine){a=h.combine;break}if(o.config.customComboBase&&(r=o.config.customComboBase),r&&a)for(g in this.maxURLLength,u)u.hasOwnProperty(g)&&(i=g+"Mods",e[s=g]=e[s]||[],e[i]=t=e[i]||[],n=this._customResolve(t,g),e[g]=e[g].concat(n));return e},_customResolve:function(e,t){var n,i,h,u,g=this._aggregateGroups(e),a=this._sortAggregatedGroups(g),l=[];for(i||(i=(h=s.exec(o.config.loaderPath))&&h[1]||"raw",n=(n="min"===(i="css"===t&&"debug"===i?"raw":"min")?"":"."+i)+"."+t),u=this._buildCombo(a,r,n);u;)l.push(u),u=this._buildCombo(a,r,n);return l},_aggregateGroups:function(o){var e,r,n,s,u,g,a,l={};for(a=0,g=o.length;a<g;a+=1){if(n=(s=o[a]).name,r=this.groups&&this.groups[s.group]){if(!r.combine||s.fullpath)continue}else if(!this.combine)continue;!s.combine&&s.ext||(s.group?"gallery"===s.group?(t||(e=h.exec(this.groups.gallery.root),t=e&&e[1]),n=n.split("gallery-").pop(),u="g+"+t):0===s.path.indexOf(n+"/"+n)?("/"===(u=r.root).charAt(0)&&(u=u.slice(1)),"/"===u.charAt(u.length-1)&&(u=u.slice(0,-1)),u="r+"+u):(n=s.path.split(i).shift(),r&&r.root&&(n=r.root+n),"/"===n.charAt(0)&&(n=n.slice(1)),u="path+"+n):u="c+"+YUI.version,l[u]=l[u]||[],l[u].push(n))}return l},_buildCombo:function(o,e,t){var r,s,i,h,u,g,a,l,c=e,p=e.length+t.length;for(l=0,a=o.length;l<a;l+=1)for(g=o[l],r=c===e?"":";",s=g.key,h=g.modules;h.length;){if(i=(i=r+s)?i+n:",",0===g.key.indexOf("path")&&(i=r),!(p+(u=i+h[0]).length<this.maxURLLength))return c+t;c+=u,p+=u.length,h.shift(),r=s=""}return(c+=t).length===e.length+t.length&&(c=null),c},_sortAggregatedGroups:function(o){var e,t,r,n=[];for(e in o)o.hasOwnProperty(e)&&n.push({key:e,modules:o[e]});for(n.sort(function(o,e){return o.key<e.key?-1:o.key>e.key?1:0}),r=0,t=n.length;r<t;r+=1)n[r].modules.sort();return n}},!0)},"patched-v3.18.1");