AUI.add("aui-form-textareabase",function(u){var h=u.Lang,l=u.getClassName,a=u.config.doc,j="textareabase",p="adjustSize",t="auto",i="autoSize",e="bindUI",o="fontSize",v="height",d="innerHTML",z="maxHeight",q="minHeight",B="node",k="px",x="renderUI",n="syncUI",g="width",w=l(j),c=[l(j,v,"monitor"),l("field","text","input"),l("helper","hidden","accessible")].join(" "),f="&nbsp;&nbsp;",y="&nbsp;\n&nbsp;",s='<pre class="'+c+'">',m="</pre>",r='<textarea autocomplete="off" class="{cssClass}" name="{name}"></textarea>';function b(A){u.after(this._renderUITextareaBase,this,x);u.after(this._syncUITextareaBase,this,n);u.after(this._bindUITextareaBase,this,e);}b.NAME=j;b.ATTRS={autoSize:{value:true},height:{value:t},maxHeight:{value:1000,setter:"_setAutoDimension"},minHeight:{value:45,setter:"_setAutoDimension"},width:{value:t,setter:"_setAutoDimension"}};b.HTML_PARSER={node:"textarea"};b.prototype={FIELD_TEMPLATE:r,_renderUITextareaBase:function(){var A=this;if(A.get(i)){A._renderHeightMonitor();}},_bindUITextareaBase:function(){var A=this;if(A.get(i)){A.get(B).on("keyup",A._onKeyup,A);}A.after(p,A._uiAutoSize);A.after("heightChange",A._afterHeightChange);A.after("widthChange",A._afterWidthChange);},_syncUITextareaBase:function(){var C=this;C._setAutoDimension(C.get(q),q);C._setAutoDimension(C.get(z),z);var D=C.get(g);var A=C.get(q);C._setAutoDimension(D,g);C._uiSetDim(v,A);C._uiSetDim(g,D);},_afterHeightChange:function(C){var A=this;A._uiSetDim(v,C.newVal,C.prevVal);},_afterWidthChange:function(C){var A=this;A._uiSetDim(g,C.newVal,C.prevVal);},_onKeyup:function(C){var A=this;A.fire(p);},_renderHeightMonitor:function(){var C=this;var E=u.Node.create(s+m);var G=C.get(B);u.getBody().append(E);C._heightMonitor=E;var A=G.getComputedStyle("fontFamily");var H=G.getComputedStyle(o);var D=G.getComputedStyle("fontWeight");var F=G.getComputedStyle(o);G.setStyle(v,C.get(q)+k);E.setStyles({fontFamily:A,fontSize:H,fontWeight:D});if("outerHTML" in E.getDOM()){C._updateContent=C._updateOuterContent;}else{C._updateContent=C._updateInnerContent;}},_setAutoDimension:function(D,C){var A=this;A["_"+C]=D;},_uiAutoSize:function(){var C=this;var G=C.get(B);var D=C._heightMonitor;var H=C._minHeight;var F=C._maxHeight;var E=G.val();var I=a.createTextNode(E);D.set(d,"");D.appendChild(I);D.setStyle(g,G.getComputedStyle(g));E=D.get(d);if(!E.length){E=f;}else{E+=y;}C._updateContent(E);var A=Math.max(D.get("offsetHeight"),H);A=Math.min(A,F);if(A!=C._lastHeight){C._lastHeight=A;C._uiSetDim(v,A);}},_uiSetDim:function(D,C){var A=this;var E=A.get(B);if(h.isNumber(C)){C+=k;}E.setStyle(D,C);},_updateInnerContent:function(C){var A=this;return A._heightMonitor.set(d,C);},_updateOuterContent:function(C){var A=this;C=C.replace(/\n/g,"<br />");return A._updateInnerContent(C);}};u.TextareaBase=b;},"@VERSION@",{skinnable:false,requires:["aui-base"]});