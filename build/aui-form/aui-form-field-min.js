AUI.add("aui-form-field",function(o){var f=o.Lang,i=o.ClassNameManager.getClassName,g="field",q=o.cached(function(x,z){var y=["field"];if(z){y.push(z);}y=y.join("-");var w=[i(y,x)];if(x=="password"){w.push(i(y,"text"));}return w.join(" ");}),b=i(g),v=i(g,"content"),e=i(g,"input"),m=i(g,"hint"),d=i(g,"invalid"),c=i(g,"label"),a=i(g,"labels"),u=i(g,"labels","inline"),s={left:[a,"left"].join("-"),right:[a,"right"].join("-"),top:[a,"top"].join("-")},k=/left|right/,p='<span class="'+b+'"></span>',t='<span class="'+v+'"></span>',j='<span class="'+m+'"></span>',n='<input autocomplete="off" class="{cssClass}" id="{id}" name="{name}" type="{type}" />',l='<label class="'+c+'"></label>',r={};var h=o.Component.create({NAME:g,ATTRS:{readOnly:{value:false},name:{value:"",getter:function(x){var w=this;return x||w.get("id");}},id:{getter:function(y){var w=this;var x=this.get("node");if(x){y=x.get("id");}if(!y){y=o.guid();}return y;}},type:{value:"text",writeOnce:true},labelAlign:{value:""},labelNode:{valueFn:function(){var w=this;return o.Node.create(l);}},labelText:{valueFn:function(){var w=this;return w.get("labelNode").get("innerHTML");},setter:function(x){var w=this;w.get("labelNode").set("innerHTML",x);return x;}},node:{value:null,setter:function(x){var w=this;return o.one(x)||w._createFieldNode();}},fieldHint:{value:""},fieldHintNode:{value:null,setter:function(x){var w=this;return o.one(x)||w._createFieldHint();}},prevVal:{value:""},valid:{value:true,getter:function(z){var w=this;var x=w.get("validator");var y=w.get("disabled")||x(w.get("value"));return y;}},dirty:{value:false,getter:function(y){var w=this;if(w.get("disabled")){y=false;}else{var x=String(w.get("value"));var z=String(w.get("prevVal"));y=(x!==z);}return y;}},size:{},validator:{valueFn:function(){var w=this;return w.fieldValidator;},validator:f.isFunction},value:{getter:"_getNodeValue",setter:"_setNodeValue",validator:"fieldValidator"}},HTML_PARSER:{labelNode:"label",node:"input, textarea, select"},BIND_UI_ATTRS:["id","readOnly","name","size","tabIndex","type","value"],getTypeClassName:q,getField:function(z){var A=null;if(z instanceof o.Field){A=z;}else{if(z&&(f.isString(z)||z instanceof o.Node||z.nodeName)){var x=o.one(z).get("id");A=r[x];if(!A){var y=z.ancestor(".aui-field");var w=z.ancestor(".aui-field-content");A=new h({boundingBox:y,contentBox:w,node:z});}}else{if(f.isObject(z)){A=new h(z);}}}return A;},prototype:{BOUNDING_TEMPLATE:p,CONTENT_TEMPLATE:t,FIELD_TEMPLATE:n,FIELD_TYPE:"text",initializer:function(){var w=this;var x=w.get("node").guid();r[x]=w;},renderUI:function(){var w=this;w._renderField();w._renderLabel();w._renderFieldHint();},bindUI:function(){var w=this;w.after("labelAlignChange",w._afterLabelAlignChange);w.after("fieldHintChange",w._afterFieldHintChange);},syncUI:function(){var w=this;w.set("prevVal",w.get("value"));},fieldValidator:function(x){var w=this;return true;},isValid:function(){var w=this;return w.get("valid");},isDirty:function(){var w=this;return w.get("dirty");},resetValue:function(){var w=this;w.set("value",w.get("prevVal"));w.clearInvalid();},markInvalid:function(x){var w=this;w.set("fieldHint",x);w.get("fieldHintNode").show();w.get("boundingBox").addClass(d);},clearInvalid:function(){var w=this;w.reset("fieldHint");if(!w.get("fieldHint")){w.get("fieldHintNode").hide();}w.get("boundingBox").removeClass(d);},validate:function(){var w=this;var x=w.get("valid");if(x){w.clearInvalid();}return x;},_afterFieldHintChange:function(x){var w=this;w._uiSetFieldHint(x.newVal,x.prevVal);},_afterLabelAlignChange:function(x){var w=this;w._uiSetLabelAlign(x.newVal,x.prevVal);},_createFieldHint:function(){var w=this;var x=o.Node.create(j);w.get("contentBox").append(x);return x;},_createFieldNode:function(){var w=this;var x=w.FIELD_TEMPLATE;w.FIELD_TEMPLATE=f.sub(x,{cssClass:e,id:w.get("id"),name:w.get("name"),type:w.get("type")});return o.Node.create(w.FIELD_TEMPLATE);},_getNodeValue:function(){var w=this;return w.get("node").val();},_renderField:function(){var w=this;var A=w.get("node");A.val(w.get("value"));var y=w.get("boundingBox");var x=w.get("contentBox");var z=w.get("type");y.addClass(q(z));A.addClass(q(z,"input"));if(!x.contains(A)){if(A.inDoc()){A.placeBefore(y);x.appendChild(A);}else{x.appendChild(A);}}y.removeAttribute("tabIndex");},_renderFieldHint:function(){var w=this;var x=w.get("fieldHint");if(x){w._uiSetFieldHint(x);}},_renderLabel:function(){var w=this;var A=w.get("labelText");if(A!==false){var z=w.get("node");var B=z.guid();A=w.get("labelText");var y=w.get("labelNode");y.addClass(i(w.name,"label"));y.setAttribute("for",B);y.set("innerHTML",A);w._uiSetLabelAlign(w.get("labelAlign"));var x=w.get("contentBox");x.prepend(y);}},_setNodeValue:function(x){var w=this;w._uiSetValue(x);return x;},_uiSetFieldHint:function(x,y){var w=this;w.get("fieldHintNode").set("innerHTML",x);},_uiSetId:function(x,y){var w=this;w.get("node").set("id",x);},_uiSetLabelAlign:function(y,A){var w=this;var x=w.get("boundingBox");x.replaceClass(s[A],s[y]);var z="removeClass";if(k.test(y)){z="addClass";}x[z](u);},_uiSetName:function(x,y){var w=this;w.get("node").setAttribute("name",x);},_uiSetReadOnly:function(x,y){var w=this;w.get("node").setAttribute("readOnly",x);},_uiSetSize:function(x,y){var w=this;w.get("node").setAttribute("size",x);},_uiSetTabIndex:function(x,y){var w=this;w.get("node").setAttribute("tabIndex",x);},_uiSetValue:function(x,y){var w=this;w.get("node").val(x);},_requireAddAttr:false}});o.Field=h;},"@VERSION@",{requires:["aui-base","aui-component"]});