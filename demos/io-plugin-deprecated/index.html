<!DOCTYPE html>

<html>
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
	<script src="../../build/aui/aui.js" type="text/javascript"></script>

	<link href="../../build/aui-css/css/bootstrap.css" rel="stylesheet" />
	<link href="../../build/aui-skin-deprecated/aui-skin-deprecated-min.css" media="screen" rel="stylesheet" type="text/css" />
</head>

<body>
<h1>Alloy - IO</h1>

<div id="content1"></div>
<div id="content2"></div>

<script type="text/javascript">
YUI(
	{
		filter: 'raw'
	}
).use(
	'aui-modal',
	'aui-io-plugin-deprecated',
	function(A) {
		var content1 = A.one('#content1');

		content1.plug(
			A.Plugin.IO,
			{
				data: {
					key1: 'value1',
					key2: 'value2'
				},
				// failureMessage: 'Error!',
				method: 'GET',
				// node: A.one('#content2'), // dont need to pass this
				on: {
					complete: function(event) {
						// console.log('complete user', arguments);
						// event.stopImmediatePropagation();
					},
					failure: function(event) {
						// console.log('failure user', arguments);
						// event.stopImmediatePropagation();
					},
					start: function(event) {
						// console.log('start user', arguments);
						// event.stopImmediatePropagation();
					},
					success: function(event) {
						console.log('success user', arguments);
						// event.stopImmediatePropagation();
					}
				},
				// parseContent: true,
				// section: 'body',
				// selector: 'div',
				// showLoading: true,
				// where: 'REPLACE',
				uri: 'assets/content.html'
			}
		);

		var dialog = new A.Modal(
			{
				bodyContent: 'Loading content via A.Plugin.IO...',
				centered: true,
				title: 'Testing IO',
				width: 300
			}
		)
		.render();

		dialog.plug(
			A.Plugin.IO,
			{
				// on: {
				// 	complete: function(event) {
				// 		console.log('complete user', arguments);
				// 		// event.halt();
				// 	},
				// 	failure: function(event) {
				// 		console.log('failure user', arguments);
				// 		// event.halt();
				// 	},
				// 	start: function(event) {
				// 		console.log('start user', arguments);
				// 		// event.halt();
				// 	},
				// 	success: function(event) {
				// 		console.log('success user', arguments);
				// 		// event.halt();
				// 	}
				// }
				uri: 'assets/content.html'
			}
		);
	}
);
</script>

</body>
</html>
