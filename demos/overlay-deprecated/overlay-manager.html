<!DOCTYPE html>

<html>
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
	<script src="../../build/aui/aui.js" type="text/javascript"></script>

	<link href="../../build/aui-css/css/bootstrap.css" rel="stylesheet" />
	<link href="../../build/aui-skin-deprecated/css/aui-skin-deprecated.css" media="screen" rel="stylesheet" type="text/css" />

	<style media="screen" type="text/css">
		#overlay-blue .overlay, #overlay-mixed .blue {
			background: blue;
			border: 4px solid #000;
			color: #fff;
		}

		#overlay-red .overlay, #overlay-mixed .red {
			background: red;
			border: 4px solid #000;
			color: #fff;
		}
	</style>
</head>

<body>

<h1>Alloy - OverlayManager</h1>

<p>
	<button id="showAll-blue">Show All (blue group)</button>
</p>

<p>
	<button id="hideAll-blue">Hide All (blue group)</button>
</p>

<p>
	<button id="showAll-red">Show All (red group)</button>
</p>

<p>
	<button id="hideAll-red">Hide All (red group)</button>
</p>

<p>
	<button id="showAll-mixed">Show All (mixed group)</button>
</p>

<p>
	<button id="hideAll-mixed">Hide All (mixed group)</button>
</p>

<div id="overlay-blue"></div>
<div id="overlay-red"></div>
<div id="overlay-mixed"></div>

<script type="text/javascript" charset="utf-8">
YUI(
	{
		filter: 'raw'
	}
).use(
	'aui-overlay-manager-deprecated',
	'dd',
	'node',
	function(A) {

		// Blue
		var overlay1 = new A.OverlayBase(
			{
				bodyContent: 'Overlay1',
				height: 150,
				width: 150,
				xy: [ 200, 100 ]
			}
		).render('#overlay-blue');

		var overlay2 = new A.OverlayBase(
			{
				bodyContent: 'Overlay2',
				height: 150,
				width: 150,
				xy: [ 220, 200 ]
			}
		).render('#overlay-blue');

		var overlay3 = new A.OverlayBase(
			{
				bodyContent: 'Overlay3',
				height: 150,
				width: 150,
				xy: [ 240, 300 ]
			}
		).render('#overlay-blue');

		// Red
		var overlay4 = new A.OverlayBase(
			{
				bodyContent: 'Overlay4',
				height: 150,
				width: 150,
				xy: [ 500, 100 ]
			}
		).render('#overlay-red');

		var overlay5 = new A.OverlayBase(
			{
				bodyContent: 'Overlay5',
				height: 150,
				width: 150,
				xy: [ 520, 200 ]
			}
		).render('#overlay-red');

		var overlay6 = new A.OverlayBase(
			{
				bodyContent: 'Overlay6',
				height: 150,
				width: 150,
				xy: [ 540, 300 ]
			}
		).render('#overlay-red');

		// Mixed...
		var overlay7 = new A.OverlayBase(
			{
				bodyContent: 'Overlay7',
				height: 150,
				width: 150,
				xy: [ 800, 100 ]
			}
		).render('#overlay-mixed');

		overlay7.get('boundingBox').addClass('blue');

		var overlay8 = new A.OverlayBase(
			{
				bodyContent: 'Overlay8',
				height: 150,
				width: 150,
				xy: [ 820, 200 ]
			}
		).render('#overlay-mixed');

		overlay8.get('boundingBox').addClass('red');

		var overlay9 = new A.OverlayBase(
			{
				bodyContent: 'Overlay9',
				height: 150,
				width: 150,
				xy: [ 840, 300 ]
			}
		).render('#overlay-mixed');

		overlay9.get('boundingBox').addClass('blue');

		var overlay10 = new A.OverlayBase(
			{
				bodyContent: 'Overlay10',
				height: 150,
				width: 150,
				xy: [ 860, 400 ]
			}
		).render('#overlay-mixed');

		overlay10.get('boundingBox').addClass('red');

		// plug OverlayManager

		var blueOverlayManager = new A.OverlayManager();
		var redOverlayManager = new A.OverlayManager();
		var mixedOverlayManager = new A.OverlayManager();

		blueOverlayManager.register([overlay1, overlay2, overlay3, overlay7, overlay9]);
		redOverlayManager.register([overlay4, overlay5, overlay6, overlay8, overlay10]);
		mixedOverlayManager.register([overlay7, overlay8, overlay9, overlay10]);

		// extras

		new A.DD.Drag(
			{
				node: overlay1.get('boundingBox')
			}
		);

		new A.DD.Drag(
			{
				node: overlay2.get('boundingBox')
			}
		);

		new A.DD.Drag(
			{
				node: overlay3.get('boundingBox')
			}
		);

		new A.DD.Drag(
			{
				node: overlay4.get('boundingBox')
			}
		);

		new A.DD.Drag(
			{
				node: overlay5.get('boundingBox')
			}
		);

		new A.DD.Drag(
			{
				node: overlay6.get('boundingBox')
			}
		);

		new A.DD.Drag(
			{
				node: overlay7.get('boundingBox')
			}
		);

		new A.DD.Drag(
			{
				node: overlay8.get('boundingBox')
			}
		);

		new A.DD.Drag(
			{
				node: overlay9.get('boundingBox')
			}
		);

		new A.DD.Drag(
			{
				node: overlay10.get('boundingBox')
			}
		);

		A.one('#showAll-blue').on(
			'click',
			function() {
				blueOverlayManager.showAll();
			}
		);

		A.one('#hideAll-blue').on(
			'click',
			function() {
				blueOverlayManager.hideAll();
			}
		);

		A.one('#showAll-red').on(
			'click',
			function() {
				redOverlayManager.showAll();
			}
		);

		A.one('#hideAll-red').on(
			'click',
			function() {
				redOverlayManager.hideAll();
			}
		);

		A.one('#showAll-mixed').on(
			'click',
			function() {
				mixedOverlayManager.showAll();
			}
		);

		A.one('#hideAll-mixed').on(
			'click',
			function() {
				mixedOverlayManager.hideAll();
			}
		);
	}
);
</script>

</body>
</html>